{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/basti/Documents/MyDigitalSchool/React/MDS-B3-2023-Food-Delivery/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/basti/Documents/MyDigitalSchool/React/MDS-B3-2023-Food-Delivery/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/basti/Documents/MyDigitalSchool/React/MDS-B3-2023-Food-Delivery/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useLocation,useParams}from'react-router-dom';import DishList from'../components/DishList';import RestaurantHeader from'../components/RestaurantHeader';import RestaurantInfos from'../components/RestaurantInfos';import{getDishesByRestaurantId,getRestaurantById}from'../services/Api';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Restaurant(){var _useParams=useParams(),slug=_useParams.slug;var _useLocation=useLocation(),id=_useLocation.state.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),restaurant=_useState2[0],setRestaurant=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),dishes=_useState4[0],setDishes=_useState4[1];useEffect(function(){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result,resultDishes;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getRestaurantById(id);case 2:result=_context.sent;_context.next=5;return getDishesByRestaurantId(id);case 5:resultDishes=_context.sent;setRestaurant(result.data);setDishes(resultDishes.data);case 8:case\"end\":return _context.stop();}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();getData();},[]);if(!restaurant){return/*#__PURE__*/_jsx(\"h1\",{children:\"Chargement...\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RestaurantHeader,{restaurant:restaurant}),/*#__PURE__*/_jsx(RestaurantInfos,{restaurant:restaurant}),/*#__PURE__*/_jsx(DishList,{dishes:dishes})]});}export default Restaurant;","map":{"version":3,"names":["useState","useEffect","useLocation","useParams","DishList","RestaurantHeader","RestaurantInfos","getDishesByRestaurantId","getRestaurantById","Restaurant","slug","id","state","restaurant","setRestaurant","dishes","setDishes","getData","result","resultDishes","data"],"sources":["C:/Users/basti/Documents/MyDigitalSchool/React/MDS-B3-2023-Food-Delivery/frontend/src/pages/Restaurant.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useLocation, useParams } from 'react-router-dom'\r\nimport DishList from '../components/DishList'\r\nimport RestaurantHeader from '../components/RestaurantHeader'\r\nimport RestaurantInfos from '../components/RestaurantInfos'\r\nimport { getDishesByRestaurantId, getRestaurantById } from '../services/Api'\r\n\r\nfunction Restaurant () {\r\n  const { slug } = useParams()\r\n  const { state: { id } } = useLocation()\r\n  const [restaurant, setRestaurant] = useState()\r\n  const [dishes, setDishes] = useState()\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      const result = await getRestaurantById(id)\r\n      const resultDishes = await getDishesByRestaurantId(id)\r\n      setRestaurant(result.data)\r\n      setDishes(resultDishes.data)\r\n    }\r\n    getData()\r\n  }, [])\r\n\r\n  if (!restaurant) {\r\n    return <h1>Chargement...</h1>\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <RestaurantHeader restaurant={restaurant} />\r\n      <RestaurantInfos restaurant={restaurant} />\r\n      <DishList dishes={dishes} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Restaurant\r\n"],"mappings":"inBAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,MAAOC,iBAAgB,KAAM,gCAAgC,CAC7D,MAAOC,gBAAe,KAAM,+BAA+B,CAC3D,OAASC,uBAAuB,CAAEC,iBAAiB,KAAQ,iBAAiB,8IAE5E,QAASC,WAAU,EAAI,CACrB,eAAiBN,SAAS,EAAE,CAApBO,IAAI,YAAJA,IAAI,CACZ,iBAA0BR,WAAW,EAAE,CAAtBS,EAAE,cAAXC,KAAK,CAAID,EAAE,CACnB,cAAoCX,QAAQ,EAAE,wCAAvCa,UAAU,eAAEC,aAAa,eAChC,eAA4Bd,QAAQ,EAAE,yCAA/Be,MAAM,eAAEC,SAAS,eAExBf,SAAS,CAAC,UAAM,CACd,GAAMgB,QAAO,4FAAG,kLACOT,kBAAiB,CAACG,EAAE,CAAC,QAApCO,MAAM,qCACeX,wBAAuB,CAACI,EAAE,CAAC,QAAhDQ,YAAY,eAClBL,aAAa,CAACI,MAAM,CAACE,IAAI,CAAC,CAC1BJ,SAAS,CAACG,YAAY,CAACC,IAAI,CAAC,sDAC7B,kBALKH,QAAO,0CAKZ,CACDA,OAAO,EAAE,CACX,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACJ,UAAU,CAAE,CACf,mBAAO,oBAAI,eAAa,EAAK,CAC/B,CAEA,mBACE,wCACE,KAAC,gBAAgB,EAAC,UAAU,CAAEA,UAAW,EAAG,cAC5C,KAAC,eAAe,EAAC,UAAU,CAAEA,UAAW,EAAG,cAC3C,KAAC,QAAQ,EAAC,MAAM,CAAEE,MAAO,EAAG,GAC3B,CAEP,CAEA,cAAeN,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}